# Profile Subscription Feature - Visual Guide

## ğŸ¨ UI Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Profile Header (Name, Avatar, Stats)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  ğŸ“š Your Learning Profile / ğŸ“Š Teaching Performance         â”‚
â”‚  (Existing sections)                                         â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’³ Subscription Plans                                       â”‚
â”‚                                                               â”‚
â”‚  âœ… ACTIVE SUBSCRIPTION (if user has subscription)          â”‚
â”‚  â”œâ”€ Plan: Monthly/6 Months/Yearly                           â”‚
â”‚  â””â”€ Expires: Dec 31, 2025 (45 days remaining)               â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Three Plan Cards (Grid Layout)                              â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ğŸ“… Monthly   â”‚  â”‚ ğŸ“… 6 Months  â”‚  â”‚ ğŸ“… Yearly    â”‚       â”‚
â”‚  â”‚ 30 days      â”‚  â”‚ 180 days     â”‚  â”‚ 365 days     â”‚       â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚       â”‚
â”‚  â”‚ â‚¹299         â”‚  â”‚ â‚¹1499        â”‚  â”‚ â‚¹2499        â”‚       â”‚
â”‚  â”‚ â‚¹9.97/day    â”‚  â”‚ â‚¹8.33/day    â”‚  â”‚ â‚¹6.84/day    â”‚       â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚       â”‚
â”‚  â”‚ [Buy Now]    â”‚  â”‚ [Buy Now]    â”‚  â”‚ [Buy Now]    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸšª Logout                                                   â”‚
â”‚  Last login: Nov 28, 02:15 PM                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Responsive Breakpoints

### Desktop (3+ columns)
```
[Plan 1] [Plan 2] [Plan 3]
```

### Tablet (2 columns)
```
[Plan 1] [Plan 2]
[Plan 3]
```

### Mobile (1 column)
```
[Plan 1]
[Plan 2]
[Plan 3]
```

---

## ğŸ”„ Payment Flow Diagram

```
User on Profile
       â†“
    Clicks "Buy Now" (Monthly)
       â†“
Button â†’ "Processing..."
       â†“
API Call: POST /api/payments/create-order
       â†“
Backend Creates Razorpay Order
       â†“
Returns: orderId, amount, paymentId
       â†“
Razorpay Standard Checkout Opens
       â†“
    User Selects Payment Method:
    â”œâ”€ UPI (GPay/PhonePe/Paytm)
    â”œâ”€ Card (Debit/Credit/RuPay)
    â”œâ”€ Wallet (Paytm/PhonePe)
    â””â”€ Netbanking (60+ banks)
       â†“
User Completes Payment
       â†“
Frontend Verifies Signature
       â†“
API Call: POST /api/payments/verify-payment
       â†“
Backend Creates Subscription
       â†“
Success! Subscription Active
       â†“
Profile Refreshes to Show:
â”œâ”€ âœ… Active Subscription Box
â”œâ”€ Plan Type
â”œâ”€ Expiry Date
â””â”€ Days Remaining (e.g., 30 days)
```

---

## ğŸ¯ User Journey

### First-Time Subscriber
1. Visit Profile page
2. Scroll to "ğŸ’³ Subscription Plans"
3. Choose a plan (e.g., Monthly â‚¹299)
4. Click "Buy Now"
5. Select payment method (e.g., Google Pay)
6. Complete payment on Razorpay
7. See "âœ… Active Subscription" box appear
8. Start taking unlimited tests

### Existing Subscriber
1. Visit Profile page
2. See "âœ… Active Subscription" at top
3. View expiry date and remaining days
4. Can upgrade to longer plan by clicking "Buy Now" (subscription extends)
5. Renewed subscription shows updated expiry date

---

## ğŸ’¾ Data Displayed

### Active Subscription Card (Green Box)
```
âœ… Active Subscription
Plan: Yearly
Expires: Dec 31, 2025 (365 days)
```

### Plan Cards
```
Plan Name:    Monthly / 6 Months / Yearly
Validity:     30 / 180 / 365 days
Price:        â‚¹299 / â‚¹1499 / â‚¹2499
Per Day Cost: â‚¹9.97 / â‚¹8.33 / â‚¹6.84
Button:       Buy Now
```

---

## ğŸ¨ Color Scheme

| Element | Color | Usage |
|---------|-------|-------|
| Active Subscription Box | Green (#10b981) | Success state |
| Plan Cards | Blue (#3b82f6) | Primary action |
| Price Display | Blue (#60a5fa) | Highlight |
| Text Primary | Light (#e2e8f0) | Main text |
| Text Secondary | Gray (#94a3b8) | Helper text |
| Button | Blue Gradient | Action |
| Button Disabled | Blue (0.6 opacity) | Loading state |

---

## âŒ¨ï¸ Keyboard Navigation

- **Tab**: Navigate between "Buy Now" buttons
- **Enter**: Submit selected plan
- **Escape**: Close any modals

---

## â™¿ Accessibility

- âœ… Semantic HTML
- âœ… Button labels clear
- âœ… Color contrast meets WCAG AA
- âœ… Focus indicators visible
- âœ… Loading states announced
- âœ… Error messages displayed

---

## ğŸ§ª Testing Scenarios

### Scenario 1: No Active Subscription
1. Open Profile
2. No green "Active Subscription" box
3. Three plan cards visible with "Buy Now" buttons
4. Click "Buy Now" â†’ payment flow starts

### Scenario 2: Active Monthly Subscription
1. Open Profile
2. Green box shows: "Plan: Monthly | Expires: Dec 31 (30 days)"
3. Can still buy other plans to extend
4. Click "Buy Now (Yearly)" â†’ subscription extends by 365 days

### Scenario 3: Payment Failure
1. Open Profile
2. Click "Buy Now"
3. Razorpay modal opens
4. User cancels or payment fails
5. Button returns to "Buy Now"
6. No subscription created
7. Error message shown (optional)

### Scenario 4: Responsive Design
1. Desktop: 3 plan cards in one row
2. Tablet: 2 plan cards + 1 below
3. Mobile: 1 plan card per row, full width

---

## ğŸ“Š State Management

```javascript
// State
subscription: {
  _id: "...",
  plan: "monthly",          // or "6months" or "yearly"
  status: "active",         // or "expired"
  startDate: "2025-01-01",
  expiryDate: "2025-01-31",
  daysRemaining: 30
}

subscribing: null           // or "monthly" (loading state)
```

---

## ğŸ”§ Technical Stack

- **Frontend Framework**: React
- **State Management**: useState hooks
- **API Client**: Axios (via paymentAPI)
- **Payment Gateway**: Razorpay Standard Checkout
- **Styling**: Inline CSS + existing CSS classes
- **Authentication**: JWT via API interceptor

---

## âœ… Checklist

- [x] UI components added
- [x] State management implemented
- [x] API integration working
- [x] Payment flow connected
- [x] Subscription status display
- [x] Error handling included
- [x] Loading states implemented
- [x] Responsive design
- [x] Documentation created
- [x] No breaking changes
- [x] Production-ready
